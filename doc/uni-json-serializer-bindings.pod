=head1 NAME

uni-json-serializer-bindings - object management and helper functions for uni-json serializer

=head1 SYNOPSIS

 #include <uni_json_types.h)
 #include <uni_json_s_binding.h>

 enum {
     UJ_T_NULL,
     UJ_T_BOOL,
     UJ_T_NUM,
     UJ_T_STR,
     UJ_T_ARY,
     UJ_T_OBJ,
     UJ_T_UNK
 };

 struct uj_data {
     uint8_t *s;
     size_t len;
 };

 struct uj_kv_pair {
     struct uj_data key;
     void *val;
 };

 struct uni_json_s_binding {
     /*  general */
     void (*output)(uint8_t *data, size_t len, void *sink);
     int (*type_of)(void *p);
     void *(*alloc)(size_t);
     void (*dealloc)(void *);

     /*  objects */
     void *(*start_object_traversal)(void *obj);
     size_t (*max_kv_pairs)(void *obj);
     void (*end_object_traversal)(void *oiter);
     int (*next_kv_pair)(void *oiter, struct uj_kv_pair *kvp);

     /*  arrays */
     void *(*start_array_traversal)(void *ary);
     void (*end_array_traversal)(void *aiter);
     void *(*next_value)(void *aiter);

     /*  "string data" types */
     void (*get_num_data)(void *num, struct uj_data *ndata);
     void (*free_num_data)(struct uj_data *ndata);

     void (*get_string_data)(void *str, struct uj_data *sdata);
     void (*free_string_data)(struct uj_data *sdata);

     /*  bool */
     int (*get_bool_value)(void *boolean);
 };

=head1 DESCRIPTION

Structure containing pointers to the functions which need to be provided to the uni-json
serializer to use it in a particular runtime environment.
